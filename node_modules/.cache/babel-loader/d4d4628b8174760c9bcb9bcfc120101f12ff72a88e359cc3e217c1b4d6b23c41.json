{"ast":null,"code":"var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nimport { useState, useRef } from 'react';\nimport useIsomorphicLayoutEffect from 'use-isomorphic-layout-effect';\nimport useConstant from './useConstant';\nexport function isActorWithState(actorRef) {\n  return 'state' in actorRef;\n}\nfunction isDeferredActor(actorRef) {\n  return 'deferred' in actorRef;\n}\nvar noop = function () {\n  /* ... */\n};\nexport function useActor(actorRef, getSnapshot) {\n  if (getSnapshot === void 0) {\n    getSnapshot = function (a) {\n      return isActorWithState(a) ? a.state : undefined;\n    };\n  }\n  var actorRefRef = useRef(actorRef);\n  var deferredEventsRef = useRef([]);\n  var _a = __read(useState(function () {\n      return getSnapshot(actorRef);\n    }), 2),\n    current = _a[0],\n    setCurrent = _a[1];\n  var send = useConstant(function () {\n    return function (event) {\n      var currentActorRef = actorRefRef.current;\n      // If the previous actor is a deferred actor,\n      // queue the events so that they can be replayed\n      // on the non-deferred actor.\n      if (isDeferredActor(currentActorRef) && currentActorRef.deferred) {\n        deferredEventsRef.current.push(event);\n      } else {\n        currentActorRef.send(event);\n      }\n    };\n  });\n  useIsomorphicLayoutEffect(function () {\n    actorRefRef.current = actorRef;\n    setCurrent(getSnapshot(actorRef));\n    var subscription = actorRef.subscribe({\n      next: function (emitted) {\n        return setCurrent(emitted);\n      },\n      error: noop,\n      complete: noop\n    });\n    // Dequeue deferred events from the previous deferred actorRef\n    while (deferredEventsRef.current.length > 0) {\n      var deferredEvent = deferredEventsRef.current.shift();\n      actorRef.send(deferredEvent);\n    }\n    return function () {\n      subscription.unsubscribe();\n    };\n  }, [actorRef]);\n  return [current, send];\n}","map":{"version":3,"names":["__read","o","n","m","Symbol","iterator","i","call","r","ar","e","next","done","push","value","error","useState","useRef","useIsomorphicLayoutEffect","useConstant","isActorWithState","actorRef","isDeferredActor","noop","useActor","getSnapshot","a","state","undefined","actorRefRef","deferredEventsRef","_a","current","setCurrent","send","event","currentActorRef","deferred","subscription","subscribe","emitted","complete","length","deferredEvent","shift","unsubscribe"],"sources":["C:/PoC-FE/video-fsm-uno/node_modules/@xstate/react/es/useActor.js"],"sourcesContent":["var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { useState, useRef } from 'react';\nimport useIsomorphicLayoutEffect from 'use-isomorphic-layout-effect';\nimport useConstant from './useConstant';\nexport function isActorWithState(actorRef) {\n    return 'state' in actorRef;\n}\nfunction isDeferredActor(actorRef) {\n    return 'deferred' in actorRef;\n}\nvar noop = function () {\n    /* ... */\n};\nexport function useActor(actorRef, getSnapshot) {\n    if (getSnapshot === void 0) { getSnapshot = function (a) {\n        return isActorWithState(a) ? a.state : undefined;\n    }; }\n    var actorRefRef = useRef(actorRef);\n    var deferredEventsRef = useRef([]);\n    var _a = __read(useState(function () { return getSnapshot(actorRef); }), 2), current = _a[0], setCurrent = _a[1];\n    var send = useConstant(function () { return function (event) {\n        var currentActorRef = actorRefRef.current;\n        // If the previous actor is a deferred actor,\n        // queue the events so that they can be replayed\n        // on the non-deferred actor.\n        if (isDeferredActor(currentActorRef) && currentActorRef.deferred) {\n            deferredEventsRef.current.push(event);\n        }\n        else {\n            currentActorRef.send(event);\n        }\n    }; });\n    useIsomorphicLayoutEffect(function () {\n        actorRefRef.current = actorRef;\n        setCurrent(getSnapshot(actorRef));\n        var subscription = actorRef.subscribe({\n            next: function (emitted) { return setCurrent(emitted); },\n            error: noop,\n            complete: noop\n        });\n        // Dequeue deferred events from the previous deferred actorRef\n        while (deferredEventsRef.current.length > 0) {\n            var deferredEvent = deferredEventsRef.current.shift();\n            actorRef.send(deferredEvent);\n        }\n        return function () {\n            subscription.unsubscribe();\n        };\n    }, [actorRef]);\n    return [current, send];\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}